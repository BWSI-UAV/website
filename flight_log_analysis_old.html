

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Flight Log Analysis &mdash; Autonomous UAV Racing 0.1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Autonomous UAV Racing
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Course Agenda:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">BWSI’s Autonomous UAV Racing</a></li>
<li class="toctree-l1"><a class="reference internal" href="initial_setup.html">Module 0: UAV Environment Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="quadrotor_basics.html">Module 1: Hands-On Quadrotors</a></li>
<li class="toctree-l1"><a class="reference internal" href="computer_vision.html">Module 2: Computer Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="planning_control.html">Module 3: Estimation &amp; Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="racing_challenges.html">Module 4: Racing Challenges</a></li>
</ul>
<p class="caption"><span class="caption-text">Practicals:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="student_drone_setup.html">Student Drone Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="project_workflow.html">Project Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration.html">Calibrating Intel RTF Drones</a></li>
<li class="toctree-l1"><a class="reference internal" href="flight_log_analysis.html">Flight Log Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="intel_rtf_architecture.html">Architecture Concept Review</a></li>
<li class="toctree-l1"><a class="reference internal" href="ros_introduction.html">Intro to ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="communication_pipeline.html">Communication Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="accessing_video_streams.html">Accessing Video Streams</a></li>
<li class="toctree-l1"><a class="reference internal" href="internal_sensor_testing.html">Inspecting Sensor Feeds</a></li>
<li class="toctree-l1"><a class="reference internal" href="enable_optical_flow.html">Hovering with Optical Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="coordinate_transforms.html">Coordinate Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="downward_cam_bag.html">Downward Camera Recording + Line Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="detector.html">Custom ROS Message for Line Params</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_loop_translation_control.html">OFFBOARD Mode &amp; Open Loop Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="yaw_color_tracker.html">Yaw-Only Color Tracker</a></li>
<li class="toctree-l1"><a class="reference internal" href="line_following.html">Line Following</a></li>
<li class="toctree-l1"><a class="reference internal" href="obstacle_avoidance.html">AR Obstacle Avoidance</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Topics:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="exploring_px4_firmware.html">Exploring PX4 Firmware</a></li>
</ul>
<p class="caption"><span class="caption-text">Supplemental Material:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="team_roles.html">Team Roles</a></li>
<li class="toctree-l1"><a class="reference internal" href="safety_checklist.html">Safety Checklist</a></li>
<li class="toctree-l1"><a class="reference internal" href="Glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Autonomous UAV Racing</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Flight Log Analysis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/flight_log_analysis_old.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Flight-Log-Analysis">
<h1>Flight Log Analysis<a class="headerlink" href="#Flight-Log-Analysis" title="Permalink to this headline">¶</a></h1>
<p>In this unit we will learn how to analyze post-flight telemetry data
which is a crucial skill for debugging when things go wrong or the UAV
doesn’t behave as expected</p>
<div class="section" id="Install-Analysis-Tools">
<h2>Install Analysis Tools<a class="headerlink" href="#Install-Analysis-Tools" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://dev.px4.io/en/log/flight_log_analysis.html">Reference: Dronecode
Documentation</a></p>
<p>The above reference list several software tools that can be used to
analyze flight data from a PX4-based UAV. We will use
<a class="reference external" href="https://github.com/PX4/FlightPlot">FlightPlot</a> due to it’s intuitive
interface.</p>
<ol class="arabic simple">
<li>Download the most recent version of the flightplot.jar.zip file here:
<a class="reference external" href="https://github.com/PX4/FlightPlot/releases">https://github.com/PX4/FlightPlot/releases</a> (at time of writing this,
the most recent version was v0.3.2:
<a class="reference external" href="https://github.com/PX4/FlightPlot/releases/download/0.3.2/flightplot.jar.zip">https://github.com/PX4/FlightPlot/releases/download/0.3.2/flightplot.jar.zip</a>)</li>
<li>Go to download and unzip jar file: <code class="docutils literal notranslate"><span class="pre">unzip</span> <span class="pre">flightplot.jar.zip</span></code>.</li>
<li>Move the .jar file to the same directory you plan to keep flight
logs: <code class="docutils literal notranslate"><span class="pre">mv</span> <span class="pre">flightplot.jar</span> <span class="pre">~/&lt;path-to-flight-logs&gt;/</span></code></li>
<li>Run application: <code class="docutils literal notranslate"><span class="pre">java</span> <span class="pre">-jar</span> <span class="pre">flightplot.jar</span></code></li>
</ol>
</div>
<div class="section" id="Analyze-Pre-recorded-Flight">
<h2>Analyze Pre-recorded Flight<a class="headerlink" href="#Analyze-Pre-recorded-Flight" title="Permalink to this headline">¶</a></h2>
<p>To practice using FlightPlot we have recorded data from a test flight
that you will download (i.e.&nbsp;clone from GitHub) and analyze.</p>
<div class="section" id="Import/Open-Data">
<h3>Import/Open Data<a class="headerlink" href="#Import/Open-Data" title="Permalink to this headline">¶</a></h3>
<p>Clone the prerecorded flight data from the <code class="docutils literal notranslate"><span class="pre">laboratory</span></code> repository on
GitHub. Assuming you haven’t already cloned this repo to your computer,
run the following</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">BWSI</span><span class="o">-</span><span class="n">UAV</span><span class="o">/</span><span class="n">laboratory</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>Navigate to where you saved <code class="docutils literal notranslate"><span class="pre">flightplot.jar</span></code> and run it with:
<code class="docutils literal notranslate"><span class="pre">java</span> <span class="pre">-jar</span> <span class="pre">flightplot.jar</span></code>. Once started, open
<code class="docutils literal notranslate"><span class="pre">example_flight_log.ulg</span></code>.</p>
</div>
<div class="section" id="Inspecting-Data">
<h3>Inspecting Data<a class="headerlink" href="#Inspecting-Data" title="Permalink to this headline">¶</a></h3>
<p><em>TODO:</em> COMPLETE THIS SECTION. DESCRIBE HOW TO OPEN FIELDS AND WHICH
FIELDS ARE IMPORTANT TO INSPECT</p>
<p><em>NOTE:</em> I WAS HAVING PROBLEMS ZOOMING IN ON THIS DATASET, PLOTS WOULD
DISAPPEAR UNEXPECTEDLY. MAY BE PROBLEM WITH MY COMPUTER</p>
</div>
<div class="section" id="Problem-Set">
<h3>Problem Set<a class="headerlink" href="#Problem-Set" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>At what time did the mode switch from Manual to Position Control?</li>
<li>What was the maximum velocity?</li>
<li>What was the maximum deviation between the estimate position and the
target position?</li>
<li>Can you describe the pattern or shape of the flight path during the
Position Control portion of the flight?</li>
<li>What is the maximum acceleration?</li>
<li>At what time did the drone take off? At what time did it land?</li>
<li>What is the maximum discrepancy between the estimate z-position and
the height sensor reading?</li>
</ul>
</div>
</div>
<div class="section" id="Analyze-Your-Flight">
<h2>Analyze Your Flight<a class="headerlink" href="#Analyze-Your-Flight" title="Permalink to this headline">¶</a></h2>
<p>Now that you know how to use a flight log analysis tool, take a look at
one of your flights.</p>
<p>Your drone stores flight logs onboard in the location:
<code class="docutils literal notranslate"><span class="pre">/var/lib/mavlink-router/</span></code></p>
<p>You will need to first copy the flight log from the drone to your
computer in order to analyze it. To do this, we will use secure copy
(scp). From your laptop run the following, replacing
<code class="docutils literal notranslate"><span class="pre">&lt;your-drone-name&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;timestamped-log-file-name&gt;</span></code> with the name
of your drone and the flight log name, respectively.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scp</span> <span class="n">uav</span><span class="o">@&lt;</span><span class="n">your</span><span class="o">-</span><span class="n">drone</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">beaver</span><span class="o">.</span><span class="n">works</span><span class="p">:</span><span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">mavlink</span><span class="o">-</span><span class="n">router</span><span class="o">/&lt;</span><span class="n">timestamped</span><span class="o">-</span><span class="n">log</span><span class="o">-</span><span class="n">file</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">ulg</span> <span class="o">~/</span><span class="n">laboratory</span><span class="o">/</span><span class="n">flight_log_analysis</span><span class="o">/</span>
</pre></div>
</div>
<p>Once copied, open the log in FlightPlot to review your flight data.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Ross Allen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>